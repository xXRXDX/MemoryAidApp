(function(){function read(k,d){try{return JSON.parse(localStorage.getItem(k))||d;}catch(e){return d;}}function write(k,v){localStorage.setItem(k,JSON.stringify(v));}const today=new Date().toISOString().slice(0,10);if(localStorage.getItem('stm_quests_date')===today)return;const dailyPool=['Stretch for 5 mins','Drink a glass of water','Read 1 page','Take a 5-min walk','Tidy your desk','Meditate 5 mins','Write 3 things you\'re grateful for'];const mainPool=['Study 30 minutes','Exercise 20 minutes','Organize your space','Complete a lesson','Work on project'];const sidePool=['Cook a healthy meal','Finish a creative task','Plan a week','Clean one drawer','Try a new recipe','Call a friend'];function pick(pool,n){const out=[];const cp=pool.slice();for(let i=0;i<n;i++){if(cp.length===0)break;const idx=Math.floor(Math.random()*cp.length);out.push(cp.splice(idx,1)[0]);}return out;}const daily=pick(dailyPool,4).map((t,i)=>({id:'d_'+Date.now()+'_'+i,title:t,realm:'wisdom',date:today,time:'',proof:false,generated:true}));const main=pick(mainPool,3).map((t,i)=>({id:'m_'+Date.now()+'_'+i,title:t,realm:'strength',date:today,time:'',proof:false,generated:true}));const side=pick(sidePool,2).map((t,i)=>({id:'s_'+Date.now()+'_'+i,title:t,realm:'spirit',date:today,time:'',proof:false,generated:true}));write('stm_daily',daily);write('stm_main',main);write('stm_side',side);localStorage.setItem('stm_quests_date',today);})();